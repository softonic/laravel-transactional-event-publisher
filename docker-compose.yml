version: '3.7'

services:
  test:
    volumes:
      - ./:/app
    image: ricc/composer-prestissimo:latest
    command: composer run tests

  fixcs:
    volumes:
      - ./:/app
    image: ricc/composer-prestissimo:latest
    command: composer run fix-cs

  psysh:
    volumes:
      - ./:/app
    image: ricc/psysh:latest

  install:
    volumes:
      - ./:/app
    image: ricc/composer-prestissimo:latest
    command: composer install

  phpunit:
      volumes:
        - ./:/app
      image: ricc/composer-prestissimo:latest
      command: composer phpunit
